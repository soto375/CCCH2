<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Renovación</title>
    <link rel="icon" href="icon.ico" type="image/x-icon">
    <style>
        /* Estilos básicos */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: url('fondo.png') no-repeat center center fixed;
            background-size: contain;
            color: #333;
        }
        .container {
           
            max-width: 1000px;
            margin: 50px auto;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        h1 {
            text-align: center;
        }
        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .form-group {
            display: flex;
            flex-direction: column;
            margin-top: 5px;
        }
        label {
            margin-bottom: 5px;
        }
        input, select, button {
            padding: 10px;
            font-size: 1em;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background-color: #007BFF;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        .table-container {
            margin-top: 20px;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        
        }
        th {
            background-color: #007BFF;
            color: white;
        }.pago-total {
        font-weight: bold;
        font-size: 1.2em; /* Tamaño más grande para destacar */
        color: #d9534f; /* Color rojo para resaltar */
    }

    
    /* Header */
        header {
            background-color: #004c97; /* Azul corporativo */
            color: white;
            padding: 20px 10px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            margin: 0;
            font-size: 1.8em;
        }

        header p {
            margin: 5px 0 0;
            font-size: 1em;
        }

        nav {
            margin-top: 10px;
        }

        nav a {
            text-decoration: none;
            color: white;
            margin: 0 15px;
            font-weight: bold;
            font-size: 1em;
        }

        nav a:hover {
            text-decoration: underline;
        }

        /* Footer */
        footer {
            background-color: #004c97;
            color: white;
            text-align: center;
            padding: 15px 10px;
            margin-top: 20px;
            font-size: 0.9em;
        }

        footer p {
            margin: 5px 0;
        }

        footer a {
            color: #ffcc00; /* Amarillo dorado */
            text-decoration: none;
            font-weight: bold;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Enlaces sociales */
        .social-links {
            margin: 10px 0;
        }

        .social-links a {
            margin: 0 10px;
            font-size: 1.2em;
        }

        .social-links a i {
            color: white;
        }
      
    </style>

    
</head>
<body>

    <header>
        <h1>Cámara de Comercio del Chocó</h1>
        <p>Impulsando el desarrollo empresarial y económico de la región</p>
        
    </header>

    <div class="container">
        <h1>Calculadora de Renovación</h1>
        <form id="calculationForm">
            <div class="form-group">
                <label for="activos">Activos:</label>
                  <input type="number" min="1" id="activos" placeholder="Ingrese los activos" required>
                  <div id="activosFormateados" style="margin-top: 5px; font-weight: bold; color: #007BFF; font-size:1.5em ; "></div>
            </div>

            <div class="form-group">
                <label>Tipo Empresa:</label>
                <select id="tipoPersona">
                    <option value="">Seleccione</option>
                    <option value="5800">Persona Natural</option>
                    <option value="11600">Persona Jurídica</option>
                </select>
            </div>

            <div class="form-group">
                <label>¿Tiene Establecimientos?</label>
                <label><input type="radio" name="negocios" value="si" id="rbSi"> Sí</label>
                <label><input type="radio" name="negocios" value="no" id="rbNo"> No</label>
            </div>

            <div class="form-group" id="negocioOptions" style="display: none;">
                <label for="cantidadNegocios">Cantidad de Establecimientos:</label>
                <input type="number" id="cantidadNegocios" min="1" placeholder="Ingrese cantidad">
                <br>
                <br>
                <label>Jurisdicción Establecimiento :</label>
                <select id="tipoNegocio">
                    <option value="">Seleccione</option>
                    <option value="misma">Dentro / Misma</option>
                    <option value="diferente">Fuera / Diferente</option>
                </select>
            </div>

            <button type="button" id="calcular">Calcular</button>
        </form>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Concepto</th>
                        <th>Detalle</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Formulario</td>
                        <td id="formularioOutput">-</td>
                    </tr>
                    <tr>
                        <td>Renovación</td>
                        <td id="pagarSinOutput">-</td>
                    </tr>
                    <tr>
                        <td>Valor Certificado</td>
                        <td id="tipoPersonaOutput">-</td>
                    </tr>
                    <tr>
                        <td>Establecimientos</td>
                        <td id="pagoNegocioOutput">-</td>
                    </tr>
                    <tr>
                        <td><b> Pago Total<b></td>
                       <td id="pagoTotalOutput"  class="pago-total"> - </td>
                    </tr>
                </tbody>
            </table>
            <a href="equivalencias.html" class="redirect-button">Ver Tabla de Equivalencias</a>
        </div>
        
    </div>

       </main>
           <!-- Footer -->
    <footer>
        <p>&copy; 2025 Cámara de Comercio del Chocó. Todos los derechos reservados.</p>
        <p>
            Visítanos en nuestras oficinas en Quibdó e Istmina. 
            <br>
            <a href="https://camarachoco.org.co/">Visita nuestra página oficial</a> | 
        </p>
         <p>
            <a href="#">Diseñado y elaborado por Elkin Daniel Cuesta M.</a>
        </p>
    </footer>

    <script>



        const rbSi = document.getElementById('rbSi');
        const rbNo = document.getElementById('rbNo');
        const negocioOptions = document.getElementById('negocioOptions');
        const calcularButton = document.getElementById('calcular');

        rbSi.addEventListener('change', () => negocioOptions.style.display = 'block');
        rbNo.addEventListener('change', () => negocioOptions.style.display = 'none');



        calcularButton.addEventListener('click', () => 
        {
            const activos = parseFloat(document.getElementById('activos').value) || 0;
            const tipoPersona = parseFloat(document.getElementById('tipoPersona').value) || 0;
            const tieneNegocios = rbSi.checked;
            const cantidadNegocios = parseInt(document.getElementById('cantidadNegocios').value) || 0;
            const tipoNegocio = document.getElementById('tipoNegocio').value;
            const valorFormulario = 8500;
            let tarifa = 0, porcentaje = 0, tarifaEstablecimiento = 0, renovacionCorr=0;
            
            if (isNaN(activos) ||activos <= 0) {
                alert("Por favor ingrese un valor válido para los activos.");
                return;
            }
            if (document.getElementById('rbSi').checked) {
                cantidadNegocio = parseInt(document.getElementById('cantidadNegocios').value);
                if (isNaN(cantidadNegocio) || cantidadNegocio <= 0) {
                    alert("La cantidad debe ser mayor a 0.");
                    return;
                }
            }
            if (activos > 0 && activos <= 78715000) {
                tarifa = 24220;
                porcentaje = + 8477;
                renovacionCorr = tarifa + porcentaje * (activos / 1000000);
                tarifaEstablecimiento = tipoNegocio === 'misma' ? 48400 : 97000;
                
            } else if (activos > 78715000 && activos <=  302750000) {
                tarifa = 575225;
                porcentaje =  4238.5;
                renovacionCorr = tarifa + porcentaje * ((activos-78715000 )/ 1000000);
                tarifaEstablecimiento = tipoNegocio === 'misma' ? 121000  : 242000;
                
            } else if (activos > 302750000 && activos <= 787150000) {
                tarifa = 1359347.5;
                porcentaje = 1211 ;
                renovacionCorr = tarifa + porcentaje * ((activos-302750000)/ 1000000);
                tarifaEstablecimiento = tipoNegocio === 'misma' ? 194000 : 388000;
                
            } else if (activos > 787150000 && activos <= 7871500000) {
                tarifa = 1843747.5 ;
                porcentaje =  544.95;
                renovacionCorr = tarifa + porcentaje * ((activos-787150000)/ 1000000);
                tarifaEstablecimiento = tipoNegocio === 'misma' ? 266000: 533000 ;
                
            } else if (activos > 7871500000&& activos <=24220000000 ) {
                tarifa = 5031705;
                porcentaje =  302.75;
                renovacionCorr = tarifa + porcentaje * ((activos-7871500000)/ 1000000);
                tarifaEstablecimiento = tipoNegocio === 'misma' ?  339000:  678000;
                
            } else if (activos >24220000000 && activos <=121100000000 ) {
                tarifa = 9118830 ;
                porcentaje = 151375;
                renovacionCorr = tarifa + porcentaje * ((activos-24220000000)/ 1000000);
                tarifaEstablecimiento = tipoNegocio === 'misma' ?  412000:  823000;
                
            } 
            else if (activos >121100000000 ) {
                tarifa = 9118830 ;
                porcentaje = 151375;
                renovacionCorr = tarifa + porcentaje * ((activos-24220000000)/ 1000000);
                tarifaEstablecimiento = tipoNegocio === 'misma' ?   484000:  969000;
                
            } 
            

            
            const pagarSinNegocio = renovacionCorr + tipoPersona + valorFormulario;
            const pagoNegocio = tieneNegocios ? cantidadNegocios * tarifaEstablecimiento : 0;
            const pagoTotal = pagarSinNegocio + pagoNegocio;

            document.getElementById('formularioOutput').innerText= formatCurrency(valorFormulario);
            document.getElementById('pagarSinOutput').innerText= formatCurrency(renovacionCorr);
            document.getElementById('tipoPersonaOutput').innerText= formatCurrency(tipoPersona);
            document.getElementById('pagoNegocioOutput').innerText= formatCurrency(pagoNegocio);
            document.getElementById('pagoTotalOutput').innerText= formatCurrency(pagoTotal);
        });


        function formatCurrency(amount) {
            return amount.toLocaleString('es-CO', { style: 'currency', currency: 'COP' });
        }
            
  // Mostrar el valor formateado al salir del campo
document.getElementById('activos').addEventListener('blur', mostrarValorFormateado);

// Limpiar el recuadro al volver a enfocar el campo
document.getElementById('activos').addEventListener('focus', limpiarValorFormateado);

function mostrarValorFormateado() {
    const input = document.getElementById('activos');
    const rawValue = parseFloat(input.value); // Obtener el valor como número
    const formatoDiv = document.getElementById('activosFormateados');

    if (!isNaN(rawValue) && rawValue > 0) {
        // Formatear y mostrar en el recuadro
        formatoDiv.textContent = new Intl.NumberFormat('es-CO', {
            style: 'currency',
            currency: 'COP',
            minimumFractionDigits: 0,
        }).format(rawValue);
    } else {
        // Si el valor no es válido, mostrar vacío
        formatoDiv.textContent = '';
    }
}

function limpiarValorFormateado() {
    const formatoDiv = document.getElementById('activosFormateados');
    formatoDiv.textContent = ''; // Limpiar el recuadro al enfocar
}
     


    </script>
</body>
</html>

